!function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)}(this,function(t){function e(t){this._targetElement=t,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0,overlayOpacity:.8}}function n(t){if(null==t||"object"!=typeof t||"undefined"!=typeof t.nodeType)return t;var e,o={};for(e in t)o[e]=n(t[e]);return o}function o(){if(this._direction="forward","undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),r.call(this,this._targetElement);else{var t=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),a.call(this,t)}}function i(){if(this._direction="backward",0===this._currentStep)return!1;var t=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),a.call(this,t)}function r(t){var e=t.querySelector(".introjs-overlay");if(null!=e){if(e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500),(t=t.querySelector(".introjs-helperLayer"))&&t.parentNode.removeChild(t),(t=document.querySelector(".introjsFloatingElement"))&&t.parentNode.removeChild(t),(t=document.querySelector(".introjs-showElement"))&&(t.className=t.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),(t=document.querySelectorAll(".introjs-fixParent"))&&0<t.length)for(var n=t.length-1;n>=0;n--)t[n].className=t[n].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function l(t,e,n,o){var i="";if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,n.style.display="inherit","undefined"!=typeof o&&null!=o&&(o.style.top=null,o.style.left=null),this._introItems[this._currentStep])switch(i=this._introItems[this._currentStep],i="string"==typeof i.tooltipClass?i.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+i).replace(/^\s+|\s+$/g,""),currentTooltipPosition=this._introItems[this._currentStep].position){case"top":e.style.left="15px",e.style.top="-"+(u(e).height+10)+"px",n.className="introjs-arrow bottom";break;case"right":e.style.left=u(t).width+20+"px",n.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(e.style.top="15px"),e.style.right=u(t).width+20+"px",n.className="introjs-arrow right";break;case"floating":n.style.display="none",t=u(e),e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+t.width/2+"px",e.style.marginTop="-"+t.height/2+"px","undefined"!=typeof o&&null!=o&&(o.style.left="-"+(t.width/2+18)+"px",o.style.top="-"+(t.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",e.style.right="0px",e.style.bottom="-"+(u(e).height+10)+"px";break;case"bottom-middle-aligned":o=u(t),t=u(e),n.className="introjs-arrow top-middle",e.style.left=o.width/2-t.width/2+"px",e.style.bottom="-"+(t.height+10)+"px";break;default:e.style.bottom="-"+(u(e).height+10)+"px",n.className="introjs-arrow top"}}function s(t){if(t&&this._introItems[this._currentStep]){var e=this._introItems[this._currentStep],n=u(e.element),o=10;"floating"==e.position&&(o=0),t.setAttribute("style","width: "+(n.width+o)+"px; height:"+(n.height+o)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;")}}function a(t){var e;"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var n=this,a=document.querySelector(".introjs-helperLayer");if(u(t.element),null!=a){var p=a.querySelector(".introjs-helperNumberLayer"),h=a.querySelector(".introjs-tooltiptext"),d=a.querySelector(".introjs-arrow"),f=a.querySelector(".introjs-tooltip"),m=a.querySelector(".introjs-skipbutton"),y=a.querySelector(".introjs-prevbutton"),b=a.querySelector(".introjs-nextbutton");f.style.opacity=0,null!=p&&(e=this._introItems[0<=t.step-2?t.step-2:0],null!=e&&"forward"==this._direction&&"floating"==e.position||"backward"==this._direction&&"floating"==t.position)&&(p.style.opacity=0),s.call(n,a);var g=document.querySelectorAll(".introjs-fixParent");if(g&&0<g.length)for(e=g.length-1;e>=0;e--)g[e].className=g[e].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");e=document.querySelector(".introjs-showElement"),e.className=e.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),n._lastShowElementTimer&&clearTimeout(n._lastShowElementTimer),n._lastShowElementTimer=setTimeout(function(){null!=p&&(p.innerHTML=t.step),h.innerHTML=t.intro,l.call(n,t.element,f,d,p),a.querySelector(".introjs-bullets li > a.active").className="",a.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active",f.style.opacity=1,p&&(p.style.opacity=1)},350)}else{var m=document.createElement("div"),g=document.createElement("div"),_=document.createElement("div"),y=document.createElement("div"),b=document.createElement("div"),v=document.createElement("div");m.className="introjs-helperLayer",s.call(n,m),this._targetElement.appendChild(m),g.className="introjs-arrow",y.className="introjs-tooltiptext",y.innerHTML=t.intro,b.className="introjs-bullets",!1===this._options.showBullets&&(b.style.display="none");var w=document.createElement("ul");e=0;for(var C=this._introItems.length;C>e;e++){var j=document.createElement("li"),k=document.createElement("a");k.onclick=function(){n.goToStep(this.getAttribute("data-stepnumber"))},0===e&&(k.className="active"),k.href="javascript:void(0);",k.innerHTML="&nbsp;",k.setAttribute("data-stepnumber",this._introItems[e].step),j.appendChild(k),w.appendChild(j)}if(b.appendChild(w),v.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(v.style.display="none"),_.className="introjs-tooltip",_.appendChild(y),_.appendChild(b),1==this._options.showStepNumbers){var S=document.createElement("span");S.className="introjs-helperNumberLayer",S.innerHTML=t.step,m.appendChild(S)}_.appendChild(g),m.appendChild(_),b=document.createElement("a"),b.onclick=function(){n._introItems.length-1!=n._currentStep&&o.call(n)},b.href="javascript:void(0);",b.innerHTML=this._options.nextLabel,y=document.createElement("a"),y.onclick=function(){0!=n._currentStep&&i.call(n)},y.href="javascript:void(0);",y.innerHTML=this._options.prevLabel,m=document.createElement("a"),m.className="introjs-button introjs-skipbutton",m.href="javascript:void(0);",m.innerHTML=this._options.skipLabel,m.onclick=function(){n._introItems.length-1==n._currentStep&&"function"==typeof n._introCompleteCallback&&n._introCompleteCallback.call(n),n._introItems.length-1!=n._currentStep&&"function"==typeof n._introExitCallback&&n._introExitCallback.call(n),r.call(n,n._targetElement)},v.appendChild(m),1<this._introItems.length&&(v.appendChild(y),v.appendChild(b)),_.appendChild(v),l.call(n,t.element,_,g,S)}for(0==this._currentStep&&1<this._introItems.length?(y.className="introjs-button introjs-prevbutton introjs-disabled",b.className="introjs-button introjs-nextbutton",m.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(m.innerHTML=this._options.doneLabel,y.className="introjs-button introjs-prevbutton",b.className="introjs-button introjs-nextbutton introjs-disabled"):(y.className="introjs-button introjs-prevbutton",b.className="introjs-button introjs-nextbutton",m.innerHTML=this._options.skipLabel),b.focus(),t.element.className+=" introjs-showElement",e=c(t.element,"position"),"absolute"!==e&&"relative"!==e&&(t.element.className+=" introjs-relativePosition"),e=t.element.parentNode;null!=e&&"body"!==e.tagName.toLowerCase();)g=c(e,"z-index"),_=parseFloat(c(e,"opacity")),(/[0-9]+/.test(g)||1>_)&&(e.className+=" introjs-fixParent"),e=e.parentNode;e=t.element.getBoundingClientRect(),!(0<=e.top&&0<=e.left&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth)&&!0===this._options.scrollToElement&&(_=t.element.getBoundingClientRect(),e=void 0!=window.innerWidth?window.innerHeight:document.documentElement.clientHeight,g=_.bottom-(_.bottom-_.top),_=_.bottom-e,0>g||t.element.clientHeight>e?window.scrollBy(0,g-30):window.scrollBy(0,_+100)),"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function c(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function p(t){var e=document.createElement("div"),n="",o=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",n);else{var i=u(t);i&&(n+="width: "+i.width+"px; height:"+i.height+"px; top:"+i.top+"px;left: "+i.left+"px;",e.setAttribute("style",n))}return t.appendChild(e),e.onclick=function(){1==o._options.exitOnOverlayClick&&(r.call(o,t),void 0!=o._introExitCallback&&o._introExitCallback.call(o))},setTimeout(function(){n+="opacity: "+o._options.overlayOpacity.toString()+";",e.setAttribute("style",n)},10),!0}function u(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var n=0,o=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)n+=t.offsetLeft,o+=t.offsetTop,t=t.offsetParent;return e.top=o,e.left=n,e}var h=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){if(t=document.querySelector(t))return new e(t);throw Error("There is no element with given selector.")}return new e(document.body)};return h.version="0.9.0",h.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){var e,n=this._options,o={};for(e in n)o[e]=n[e];for(e in t)o[e]=t[e];return this._options=o,this},start:function(){t:{var t=this._targetElement,e=[],l=this;if(this._options.steps)for(var a=[],c=0,a=this._options.steps.length;a>c;c++){var u=n(this._options.steps[c]);if(u.step=e.length+1,"string"==typeof u.element&&(u.element=document.querySelector(u.element)),"undefined"==typeof u.element||null==u.element){var h=document.querySelector(".introjsFloatingElement");null==h&&(h=document.createElement("div"),h.className="introjsFloatingElement",document.body.appendChild(h)),u.element=h,u.position="floating"}null!=u.element&&e.push(u)}else{if(a=t.querySelectorAll("*[data-intro]"),1>a.length)break t;for(c=0,u=a.length;u>c;c++){var h=a[c],d=parseInt(h.getAttribute("data-step"),10);d>0&&(e[d-1]={element:h,intro:h.getAttribute("data-intro"),step:parseInt(h.getAttribute("data-step"),10),tooltipClass:h.getAttribute("data-tooltipClass"),position:h.getAttribute("data-position")||this._options.tooltipPosition})}for(c=d=0,u=a.length;u>c;c++)if(h=a[c],null==h.getAttribute("data-step")){for(;"undefined"!=typeof e[d];)d++;e[d]={element:h,intro:h.getAttribute("data-intro"),step:d+1,tooltipClass:h.getAttribute("data-tooltipClass"),position:h.getAttribute("data-position")||this._options.tooltipPosition}}}for(c=[],a=0;a<e.length;a++)e[a]&&c.push(e[a]);e=c,e.sort(function(t,e){return t.step-e.step}),l._introItems=e,p.call(l,t)&&(o.call(l),t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton"),l._onKeyDown=function(e){27===e.keyCode&&1==l._options.exitOnEsc?(r.call(l,t),void 0!=l._introExitCallback&&l._introExitCallback.call(l)):37===e.keyCode?i.call(l):(39===e.keyCode||13===e.keyCode)&&(o.call(l),e.preventDefault?e.preventDefault():e.returnValue=!1)},l._onResize=function(){s.call(l,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",l._onKeyDown,!0),window.addEventListener("resize",l._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",l._onKeyDown),document.attachEvent("onresize",l._onResize)))}return this},goToStep:function(t){return this._currentStep=t-2,"undefined"!=typeof this._introItems&&o.call(this),this},nextStep:function(){return o.call(this),this},previousStep:function(){return i.call(this),this},exit:function(){r.call(this,this._targetElement)},refresh:function(){return s.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(t){if("function"!=typeof t)throw Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},t.introJs=h});